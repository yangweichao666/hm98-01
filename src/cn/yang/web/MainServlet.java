package cn.yang.web;import cn.yang.analysis.Main;import java.io.IOException;import java.util.ArrayList;import java.util.Arrays;import java.util.List;import java.util.Map;import java.util.stream.Stream;import javax.servlet.annotation.WebServlet;import javax.servlet.http.HttpServlet;@WebServlet("/MainServlet")public class MainServlet extends HttpServlet {    protected void doPost(javax.servlet.http.HttpServletRequest request, javax.servlet.http.HttpServletResponse response) throws javax.servlet.ServletException, IOException {        request.setCharacterEncoding("utf-8");        response.setContentType("text/html;charset=GBK");               Main main = new Main();        //获取表单        String textarea = request.getParameter("textarea");//         Stream<String> lines = textarea.lines();        //将提交的分行存入数组        String[] split = textarea.split("\n");        String [] list=null;        for (int i=0;i<split.length;i++){//            System.out.println("进行第"+(i+1)+"行的判断：");            response.getWriter().write("进行第"+(i+1)+"行的判断："+"<br>");            list=main.Divide(split[i]);	//按行读入            List<Map> sort = main.Sort(list);//将读到的放到方法            response.getWriter().write(main.getErr()+"<br>");            for(Map m0:sort){                String keyword=(String) m0.get("keyword");                String sortNum=(String) m0.get("sortNum");                response.getWriter().write("("+sortNum+","+keyword+")"+"<br>");            }        }        //字符串数组转换为数列//        System.out.println(textarea);    }    protected void doGet(javax.servlet.http.HttpServletRequest request, javax.servlet.http.HttpServletResponse response) throws javax.servlet.ServletException, IOException {              doPost(request, response);    }}